<!DOCTYPE html>

<html>

<head>
    <link rel="stylesheet" href="../CSS/MainStyle.css"/>
    <link rel="stylesheet" href="../CSS/skillTree.css"/>
    <link rel="stylesheet" href="../CSS/syntaxHighlight.css">

    <meta charset="utf-8"/>
    <title>Koala Personal Website</title>
</head>

<body>
    <script src="../JS/header.js"></script>
    
    <div class="Content">
        <script src="../JS/skillTreeMenuBuild.js"></script>
        <div class="skillContent">
            <div class="codeBlock">
                <pre id="IDBlock" class="IndexBlock"></pre>
                <pre id="codeBlock">
#include&ltbits/stdc++.h&gt
#define mod (int)(1e9+7)

using namespace std;

vector&ltint&gt G[20];
vector&ltvector&ltint&gt&gt dp(20,vector&ltint&gt(1&lt&lt20,0));
bool vis[20][1&lt&lt20];

struct E{int v,s;};

void ham(int n){
    dp[0][1]=1;

    queue&ltE&gt q;
    q.push({0,1});

    while(!q.empty()){
        E cur=q.front();
        q.pop();

        if(vis[cur.v][cur.s]||cur.v==n-1)continue;
        vis[cur.v][cur.s]=true;

        for(auto &e:G[cur.v]){
            int idx=1&lt&lte,nxt=cur.s|idx;
            if((cur.s&idx)==idx)continue;
            dp[e][nxt]=(dp[e][nxt]+dp[cur.v][cur.s])%mod;
            q.push({e,nxt});
        }
    } 

    cout&lt&ltdp[n-1][(1&lt&ltn)-1]&lt&ltendl;
}

int main(){
    int n,m,v,e;
    cin&gt&gtn&gt&gtm;

    for(int a=0;a&ltm;a++){
        cin&gt&gtv&gt&gte;
        G[--v].push_back(--e);
    }

    ham(n);
}
                </pre>
            </div>
            

            <script src="../JS/CPP_SyntaxHighlight.js"> </script>
            
        </div>
    </div>
  
</body>

</html>